<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>re - регулярные выражения &mdash; Документация python документация 2015.05.20</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2015.05.20',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Документация python документация 2015.05.20" href="../index.html" />
    <link rel="up" title="Основные модули" href="index.html" />
    <link rel="next" title="shelve" href="shelve.html" />
    <link rel="prev" title="random" href="random.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Алфавитный указатель"
             accesskey="I">указатель</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Содержание модулей Python"
             >модули</a> |</li>
        <li class="right" >
          <a href="shelve.html" title="shelve"
             accesskey="N">вперёд</a> |</li>
        <li class="right" >
          <a href="random.html" title="random"
             accesskey="P">назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Документация python документация 2015.05.20</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Основные модули</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-re"></span><div class="section" id="re">
<h1>re - регулярные выражения<a class="headerlink" href="#re" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="id1">
<h2>Формирование регулярного выряжения<a class="headerlink" href="#id1" title="Ссылка на этот заголовок">¶</a></h2>
<ul>
<li><p class="first"><cite>^</cite> - привязка к началу строки или подстроки (зависит от флагов M и S)</p>
</li>
<li><p class="first"><cite>$</cite> - привязка к концу строки или подстроки (зависит от флагов M и S)</p>
</li>
<li><p class="first"><cite>A</cite> - привязка к началу строки или подстроки (не зависит от флагов)</p>
</li>
<li><p class="first"><cite>z</cite> - привязка к концу строки или подстроки (не зависит от флагов)</p>
</li>
<li><dl class="first docutils">
<dt><cite>[]</cite> - внутри указываются символы, которые могут встречаться</dt>
<dd><ul class="first last simple">
<li><cite>[0-9]</cite> - любая цифра</li>
<li><cite>[a-яА-ЯёЁ]</cite> - любая русская буква</li>
<li><cite>[^3]</cite> - не цифра 3</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><cite>d</cite> - любая цифра</p>
</li>
<li><p class="first"><cite>D</cite> - НЕ цифра</p>
</li>
<li><p class="first"><cite>w</cite> - любая буква, цифра и символ подчеркивания</p>
</li>
<li><p class="first"><cite>W</cite> - НЕ буква, цифра и символ подчеркивания</p>
</li>
<li><p class="first"><cite>s</cite> - любой пробельный символ</p>
</li>
<li><p class="first"><cite>S</cite> - НЕ пробельный символ</p>
</li>
<li><p class="first"><cite>{n}</cite> - n вхождений символа в строку</p>
</li>
<li><p class="first"><cite>{n, }</cite> - n или более вхождений символа в строку</p>
</li>
<li><p class="first"><cite>{n, m}</cite> - не менее n и не более m вхождений символа в строку</p>
</li>
<li><p class="first"><cite>*</cite> - 0 или более вхождение смвола в строку</p>
</li>
<li><p class="first"><cite>+</cite> - 1 или более вхождение символа в строку</p>
</li>
<li><p class="first"><cite>?</cite> - ни одного или 1 вхождение символа в строку</p>
</li>
<li><p class="first"><cite>(n)|(m)</cite> - n или m</p>
</li>
<li><p class="first"><cite>(?P&lt;tag&gt;)</cite> - тег для группы</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; email = &quot;test@mail.ru&quot;
&gt;&gt;&gt; р = re.compile(r&quot;&quot;&quot;
        (?P&lt;name&gt;[a-z0-9.-]+) # название ящика
        @
        (?P&lt;host&gt;(?:[a-z0-9-]+\.)+[a-z]{2,6}) # домен
    &quot;&quot;&quot;, re.I | re.VERBOSE)
&gt;&gt;&gt; r = p.search(email)
&gt;&gt;&gt; r.group(&quot;name&quot;)
&#39;test&#39;
&gt;&gt;&gt; r.group(&quot;host&quot;)
&#39;mail.ru&#39;
</pre></div>
</div>
</li>
<li><p class="first"><cite>(?P=tag)</cite> - обращение к группе внутри регулярки</p>
</li>
<li><p class="first"><cite>(?aiLmsux)</cite> - флаги регулярного выражения</p>
</li>
<li><p class="first"><cite>(?#...)</cite> - коментарии, текст внутри скобок игнорируется</p>
</li>
<li><p class="first"><cite>(?=...)</cite> - положительный просмотр вперед</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;textl, text2, textЗ text4&quot;
&gt;&gt;&gt; р = re.compile(r&quot;\w+(?=[,])&quot;, re.S | re.I) # все слова, после которых есть запятая
&gt;&gt;&gt; p.findall(s)
[&#39;text1&#39;, &#39;text2&#39;]
</pre></div>
</div>
</li>
<li><p class="first"><cite>(?!...)</cite> - отрицательный просотр вперед</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;textl, text2, textЗ text4&quot;
&gt;&gt;&gt; р = re.compile(r&quot;[a-z]+[0-9] (?![,])&quot;, re.S | re.I) # все слова, после которых нет запятой
&gt;&gt;&gt; p.findall(s)
[&#39;textЗ&#39;, &#39;text4&#39;]
</pre></div>
</div>
</li>
<li><p class="first"><cite>(?&lt;=...)</cite> - положительный просмотр назад</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;textl, text2, textЗ text4&quot;
&gt;&gt;&gt; р = re.compile(r&quot;(?&lt;=[,][ ])[a-z]+[0-9]&quot;, re.S | re.I) # все слова, перед которыми есть запятая с пробелм
&gt;&gt;&gt; p.findall(s)
[&#39;text2&#39;, &#39;text3&#39;]
</pre></div>
</div>
</li>
<li><p class="first"><cite>(?&lt;!...)</cite> - отрицательный просотр назад</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;textl, text2, textЗ text4&quot;
&gt;&gt;&gt; р = re.compile(r&quot;(?&lt;![,]) ([a-z]+[0-9])&quot;, re.S | re.I) # все слова, перед которыми есть пробел но нет запятой
&gt;&gt;&gt; p.findall(s)
[text4&#39;]
</pre></div>
</div>
</li>
<li><p class="first"><cite>(?(id или name) шаблон1|шаблон2)</cite> - если группа с номером. или названием найдена, то должно выполняться условие из параметра шаблон1, в противном случае должно выпол­няться условие из параметра шаблон2.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;textl &#39;text2&#39; &#39;textЗ text4, text5&quot;
&gt;&gt;&gt; р = re.compile(r&quot;(&#39;)?([a-z]+(0-9]) (?(1) &#39;1,)&quot;, re.S | re.I) # все слова которые находятся внутри апострофа, либо после слова есть запятая
&gt;&gt;&gt; p.findall(s)
[(&quot;&#39;&quot;, &#39;text2&#39;), (&#39;&#39;, &#39;text4&#39;)]
</pre></div>
</div>
</li>
<li><p class="first">`` -</p>
</li>
</ul>
<p>Все квантификаторы являются &#8220;жадными&#8221;. При поиске соответствия ищется самая длинная подстрока, соответствующая шаблону, и не учитываются более короткие соответствия. Чтобы ограничить жадность, необходимо после квантификатора указать символ <cite>?</cite></p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;&lt;b&gt;Textl&lt;/b&gt;Text2&lt;b&gt;Text3&lt;/b&gt;&quot;
&gt;&gt;&gt; р = re.compile(r&quot;&lt;b&gt;.*&lt;/b&gt;&quot;, re.S)
&gt;&gt;&gt; р1 = re.compile(r&quot;&lt;b&gt;.*?&lt;/b&gt;&quot;, re.S)
&gt;&gt;&gt; p.findall(s)
[&#39;&lt;b&gt;Textl&lt;/b&gt;Text2&lt;b&gt;Toxt3&lt;/b&gt;&#39;]
&gt;&gt;&gt; p1.findall(s)
[&#39;&lt;b&gt;Textl&lt;/b&gt;&#39;, &#39;&lt;b&gt;Text3&lt;/b&gt;&#39;]
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;test text&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;([a-z]+((st)|(xt)))&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">S</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;([a-z]+(?:(?:st)|(?:xt)))&#39;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">S</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[(&#39;test&#39;, &#39;st&#39;, &#39;st&#39;, &#39;&#39;), (&#39;text&#39;, &#39;xt&#39;, &#39;xt&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p1</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="go">[&#39;test&#39;, &#39;text&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; s = &quot;&lt;b&gt;Textl&lt;/b&gt;Text2&lt;b&gt;Text3&lt;/b&gt;&quot;
&gt;&gt;&gt; р = re.compile(r&quot;&lt;([a-z]+)&gt;(.*?)&lt;/\1&gt;&quot;, re.S | re.I)
&gt;&gt;&gt; р1 = re.compile(r&quot;&lt;(?P&lt;tag&gt;[a-z]+)&gt;(.*?)&lt;/(?P=tag))&gt;&quot;, re.S | re.I)
&gt;&gt;&gt; p.findall(s)
[(&#39;b&#39;, &#39;Text1&#39;), (&#39;b&#39;, &#39;Text3&#39;)]
&gt;&gt;&gt; p1.findall(s)
[(&#39;b&#39;, &#39;Text1&#39;), (&#39;b&#39;, &#39;Text3&#39;)]
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">xs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;возвращает список, из найденных груп в исходном списке</span>
<span class="sd">    :param r: регулярка</span>
<span class="sd">    :param xs: список строк для парсинга&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">)</span> <span class="k">if</span> <span class="n">m</span><span class="p">]</span>

<span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;aaa&#39;</span><span class="p">,</span> <span class="s">&#39;aab&#39;</span><span class="p">,</span> <span class="s">&#39;abb&#39;</span><span class="p">,</span> <span class="s">&#39;bbb&#39;</span><span class="p">]</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a*&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;беру любое кол-во </span><span class="se">\&quot;</span><span class="s">a</span><span class="se">\&quot;</span><span class="s">, даже нулевое!&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a+&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;любое ненулевое кол-во, беру всё!&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a*?&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;хочу 0+, беру минимум (т.е. не возьму ничего!)&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a+?&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;хочу 1+, беру минимум (т.е. одну штуку)&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a?&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;хочу (и беру) одну или ничего!&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a{,2}&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;хочу (и беру) до двух штук!&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a{1,2}?&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;хочу одну-две штуки, возьму минимум (одну)!&quot;</span>
<span class="k">print</span> <span class="n">select</span><span class="p">(</span><span class="s">r&#39;a{2}&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">),</span> <span class="s">&quot;хочу (и беру) ровно две!&quot;</span>

<span class="c"># [&#39;aaa&#39;, &#39;aa&#39;, &#39;a&#39;, &#39;&#39;] беру любое кол-во &quot;a&quot;, даже нулевое!</span>
<span class="c"># [&#39;aaa&#39;, &#39;aa&#39;, &#39;a&#39;] любое ненулевое кол-во, беру всё!</span>
<span class="c"># [&#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;] хочу 0+, беру минимум (т.е. не возьму ничего!)</span>
<span class="c"># [&#39;a&#39;, &#39;a&#39;, &#39;a&#39;] хочу 1+, беру минимум (т.е. одну штуку)</span>
<span class="c"># [&#39;a&#39;, &#39;a&#39;, &#39;a&#39;, &#39;&#39;] хочу (и беру) одну или ничего!</span>
<span class="c"># [&#39;aa&#39;, &#39;aa&#39;, &#39;a&#39;, &#39;&#39;] хочу (и беру) до двух штук!</span>
<span class="c"># [&#39;a&#39;, &#39;a&#39;, &#39;a&#39;] хочу одну-две штуки, возьму минимум (одну)!</span>
<span class="c"># [&#39;aa&#39;, &#39;aa&#39;] хочу (и беру) ровно две!</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;aa,a ab aa aaa&#39;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;a+&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="s">&quot;выбираю слова по подстроке, но могут быть неверные выборки!&quot;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;\Wa+\W&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="s">&quot;выбираю слова с небуквами по бокам и беру вместе с небуквами&quot;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;\sa+\s&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="s">&quot;выбираю слова с пробелами по бокам и беру вместе с пробелами&quot;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;\ba+\b&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="s">&quot;выбираю слова по границам слов, не беру сами границы!&quot;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;^a+&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="s">&quot;выбираю слово в начале строки&quot;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;a+$&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">),</span> <span class="s">&quot;выбираю слово в конце строки&quot;</span>

<span class="c"># [&#39;aa&#39;, &#39;a&#39;, &#39;a&#39;, &#39;aa&#39;, &#39;aaa&#39;] выбираю слова по подстроке, но могут быть неверные выборки!</span>
<span class="c"># [&#39;,a &#39;, &#39; aa &#39;] выбираю слова с небуквами по бокам и беру вместе с небуквами</span>
<span class="c"># [&#39; aa &#39;] выбираю слова с пробелами по бокам и беру вместе с пробелами</span>
<span class="c"># [&#39;aa&#39;, &#39;a&#39;, &#39;aa&#39;, &#39;aaa&#39;] выбираю слова по границам слов, не беру сами границы!</span>
<span class="c"># [&#39;aa&#39;] выбираю слово в начале строки</span>
<span class="c"># [&#39;aaa&#39;] выбираю слово в конце строки</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">s</span> <span class="o">=</span> <span class="s">&#39;a</span><span class="se">\n</span><span class="s">ab</span><span class="se">\n</span><span class="s">abc&#39;</span>
<span class="k">print</span> <span class="s">&quot;по-умолчанию точка не захватывает переводы строк, а ^ и $ обозначают границы всего текста:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;^.+$&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;^ и $ теперь обрабатывают подстроки:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;(?m)^.+$&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;точка захватывает и переводы строк:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;(?s)^.+$&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&quot;\A\Z всегда обозначают границы текста:&quot;</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;\A.+\Z&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;(?m)\A.+\Z&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="k">print</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="s">r&#39;(?s)\A.+\Z&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

<span class="c"># по-умолчанию точка не захватывает переводы строк, а ^ и $ обозначают границы всего текста:</span>
<span class="c"># []</span>
<span class="c"># ^ и $ теперь обрабатывают подстроки:</span>
<span class="c"># [&#39;a&#39;, &#39;ab&#39;, &#39;abc&#39;]</span>
<span class="c"># точка захватывает и переводы строк:</span>
<span class="c"># [&#39;a\nab\nabc&#39;]</span>
<span class="c"># \A\Z всегда обозначают границы текста:</span>
<span class="c"># []</span>
<span class="c"># []</span>
<span class="c"># [&#39;a\nab\nabc&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>Атрибуты модуля<a class="headerlink" href="#id2" title="Ссылка на этот заголовок">¶</a></h2>
<dl class="attribute">
<dt id="re.L">
<code class="descclassname">re.</code><code class="descname">L</code><a class="headerlink" href="#re.L" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.LOCALE">
<code class="descclassname">re.</code><code class="descname">LOCALE</code><a class="headerlink" href="#re.LOCALE" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, учитывать настройки локали</p>
</dd></dl>

<dl class="attribute">
<dt id="re.I">
<code class="descclassname">re.</code><code class="descname">I</code><a class="headerlink" href="#re.I" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.IGNORECASE">
<code class="descclassname">re.</code><code class="descname">IGNORECASE</code><a class="headerlink" href="#re.IGNORECASE" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, игнорировать регистр</p>
</dd></dl>

<dl class="attribute">
<dt id="re.M">
<code class="descclassname">re.</code><code class="descname">M</code><a class="headerlink" href="#re.M" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.MULTILINE">
<code class="descclassname">re.</code><code class="descname">MULTILINE</code><a class="headerlink" href="#re.MULTILINE" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, поиск в строке, состоящей из нескольких подстрок</p>
</dd></dl>

<dl class="attribute">
<dt id="re.S">
<code class="descclassname">re.</code><code class="descname">S</code><a class="headerlink" href="#re.S" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.DOTALL">
<code class="descclassname">re.</code><code class="descname">DOTALL</code><a class="headerlink" href="#re.DOTALL" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, метасимвол <cite>точка</cite> будет соответсвовать любому символу, включая символ перевода строки <cite>n</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="re.X">
<code class="descclassname">re.</code><code class="descname">X</code><a class="headerlink" href="#re.X" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.VERBOSE">
<code class="descclassname">re.</code><code class="descname">VERBOSE</code><a class="headerlink" href="#re.VERBOSE" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, пробелы и символы перевода строк будут игнорированы</p>
</dd></dl>

<dl class="attribute">
<dt id="re.U">
<code class="descclassname">re.</code><code class="descname">U</code><a class="headerlink" href="#re.U" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.UNICODE">
<code class="descclassname">re.</code><code class="descname">UNICODE</code><a class="headerlink" href="#re.UNICODE" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, <cite>w, W, b, B, d, D, s, S</cite> будут соответствовать юникод символам (в 3 питоне флаг установлен по умолчанию)</p>
</dd></dl>

<dl class="attribute">
<dt id="re.A">
<code class="descclassname">re.</code><code class="descname">A</code><a class="headerlink" href="#re.A" title="Ссылка на это определение">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="re.ASCII">
<code class="descclassname">re.</code><code class="descname">ASCII</code><a class="headerlink" href="#re.ASCII" title="Ссылка на это определение">¶</a></dt>
<dd><p>флаг, <cite>w, W, b, B, d, D, s, S</cite> будут соответствовать обычным символам</p>
</dd></dl>

</div>
<div class="section" id="id3">
<h2>Методы модуля<a class="headerlink" href="#id3" title="Ссылка на этот заголовок">¶</a></h2>
<dl class="method">
<dt id="re.compile">
<code class="descclassname">re.</code><code class="descname">compile</code><span class="sig-paren">(</span><em>expr</em><span class="optional">[</span>, <em>flag | flag...</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.compile" title="Ссылка на это определение">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Параметры:</th><td class="field-body"><strong>expr</strong> (<em>str</em>) &#8211; регулярное выражение</td>
</tr>
<tr class="field-even field"><th class="field-name">Parma flags:</th><td class="field-body">флаги модуля</td>
</tr>
</tbody>
</table>
<p>возвращает <a class="reference internal" href="#re.SRE_Pattern" title="re.SRE_Pattern"><code class="xref py py-class docutils literal"><span class="pre">SRE_Pattern</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="re.escape">
<code class="descclassname">re.</code><code class="descname">escape</code><span class="sig-paren">(</span><em>&lt;Строка&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#re.escape" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает строку, с экранированными специальными символами, полученной от пользователя. Эту строку в дальнейшем можно безопасно исполь­зовать внутри регулярного выражения.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s">r&quot;[] () .*&quot;</span><span class="p">))</span>
<span class="go">&#39;\[\]\(\)\.\*&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="re.findall">
<code class="descclassname">re.</code><code class="descname">findall</code><span class="sig-paren">(</span><em>&lt;Шаблон&gt;</em>, <em>&lt;Строка&gt;</em><span class="optional">[</span>, <em>&lt;Модификатор&gt;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.findall" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает список найденных фрагментов</p>
</dd></dl>

<dl class="method">
<dt id="re.finditer">
<code class="descclassname">re.</code><code class="descname">finditer</code><span class="sig-paren">(</span><em>&lt;Шаблон&gt;</em>, <em>&lt;Строка&gt;</em><span class="optional">[</span>, <em>&lt;Модификатор&gt;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.finditer" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает итератор найденных фрагментов</p>
</dd></dl>

<dl class="method">
<dt id="re.match">
<code class="descclassname">re.</code><code class="descname">match</code><span class="sig-paren">(</span><em>expr</em>, <em>string</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.match" title="Ссылка на это определение">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Параметры:</th><td class="field-body"><ul class="first last simple">
<li><strong>expr</strong> (<em>str</em>) &#8211; регулярное выражение</li>
<li><strong>string</strong> (<em>str</em>) &#8211; искомая строка</li>
<li><strong>flags</strong> &#8211; флаг</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>проверяет соотвествие с началом строки, если соответсвие найдено, возвращается <code class="xref py py-class docutils literal"><span class="pre">Match</span></code> иначе None</p>
</dd></dl>

<dl class="method">
<dt id="re.search">
<code class="descclassname">re.</code><code class="descname">search</code><span class="sig-paren">(</span><em>expr</em>, <em>string</em><span class="optional">[</span>, <em>flags</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.search" title="Ссылка на это определение">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Параметры:</th><td class="field-body"><ul class="first last simple">
<li><strong>expr</strong> (<em>str</em>) &#8211; регулярное выражение</li>
<li><strong>string</strong> (<em>str</em>) &#8211; искомая строка</li>
<li><strong>flags</strong> &#8211; флаг</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>проверяет соотвествие с любой частью строки, если соответсвие найдено, возвращается <code class="xref py py-class docutils literal"><span class="pre">Match</span></code> иначе None</p>
</dd></dl>

<dl class="method">
<dt id="re.split">
<code class="descclassname">re.</code><code class="descname">split</code><span class="sig-paren">(</span><em>&lt;Шaблoн&gt;</em>, <em>&lt;Исходная строка&gt;</em><span class="optional">[</span>, <em>&lt;Лимит&gt;</em><span class="optional">[</span>, <em>fla9s=O</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.split" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает список, полученный путем разбиения строки по шаблону</p>
</dd></dl>

<dl class="method">
<dt id="re.sub">
<code class="descclassname">re.</code><code class="descname">sub</code><span class="sig-paren">(</span><em>&lt;Шаблон&gt;</em>, <em>&lt;Новьм фрагмент или ссылка на функцию&gt;</em>, <em>&lt;Строка для замены&gt;</em><span class="optional">[</span>, <em>&lt;Максимальное количество замен&gt;</em><span class="optional">[</span>, <em>flags=O</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.sub" title="Ссылка на это определение">¶</a></dt>
<dd><p>ищет все совпадения с шаблоном и заменяет их указанным значением. Внутри нового фрагмента можно использовать обратные ссылки номер, g&lt;номер&gt; и g&lt;название&gt;, соответствующие группам внутри шаблона.</p>
<p>В качестве первого параметра можно указать ссылку на функцию. В эту функцию будет передаваться объект <code class="xref py py-class docutils literal"><span class="pre">Match</span></code>, соответствующий найденному фрагменту. Результат, возвра­щаемый этой функцией, служит фрагментом для замены.</p>
</dd></dl>

<dl class="method">
<dt id="re.subn">
<code class="descclassname">re.</code><code class="descname">subn</code><span class="sig-paren">(</span><em>&lt;Шаблон&gt;</em>, <em>&lt;Новьм фрагмент или ссылка на функцию&gt;</em>, <em>&lt;Строка для замены&gt;</em><span class="optional">[</span>, <em>&lt;Максимальное количество замен&gt;</em><span class="optional">[</span>, <em>flags=O</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.subn" title="Ссылка на это определение">¶</a></dt>
<dd><p>аналогичен <a class="reference internal" href="#re.sub" title="re.sub"><code class="xref py py-meth docutils literal"><span class="pre">sub()</span></code></a>, но возвращает кортеж из двух элементов, измененной строки и колчества замен</p>
</dd></dl>

</div>
<div class="section" id="id4">
<h2>Классы модуля<a class="headerlink" href="#id4" title="Ссылка на этот заголовок">¶</a></h2>
<dl class="class">
<dt id="re.SRE_Pattern">
<em class="property">class </em><code class="descclassname">re.</code><code class="descname">SRE_Pattern</code><a class="headerlink" href="#re.SRE_Pattern" title="Ссылка на это определение">¶</a></dt>
<dd><p>объект возвращаемый методом <a class="reference internal" href="../base/functions.html#compile" title="compile"><code class="xref py py-meth docutils literal"><span class="pre">compile()</span></code></a></p>
<dl class="attribute">
<dt id="re.SRE_Pattern.groups">
<code class="descname">groups</code><a class="headerlink" href="#re.SRE_Pattern.groups" title="Ссылка на это определение">¶</a></dt>
<dd><p>количесвто груп в шаблоне</p>
</dd></dl>

<dl class="attribute">
<dt id="re.SRE_Pattern.groupindex">
<code class="descname">groupindex</code><a class="headerlink" href="#re.SRE_Pattern.groupindex" title="Ссылка на это определение">¶</a></dt>
<dd><p>словарь с названиями групп и их номерами</p>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.findall">
<code class="descname">findall</code><span class="sig-paren">(</span><em>&lt;Cтpoкa&gt;</em><span class="optional">[</span>, <em>&lt;Начальная позиция&gt;</em><span class="optional">[</span>, <em>&lt;Конечная позиция&gt;</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.findall" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает список найденных фрагментов. Если внутри шаблона есть более одной груnnы, то каждый элемент сnиска будет кортежем, а не строкой.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; р = re.compi1e(r&quot;[0-9]+&quot;)
&gt;&gt;&gt; p.findall(&quot;2007, 2008, 2009, 2010, 2011&quot;)
[&#39;2007&#39;, &#39;2008&#39;, &#39;2009&#39;, &#39;2010&#39;, &#39;2011&#39;]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.finditer">
<code class="descname">finditer</code><span class="sig-paren">(</span><em>&lt;Строка&gt;</em><span class="optional">[</span>, <em>&lt;Начальная позиция&gt;</em><span class="optional">[</span>, <em>&lt;Конечная позиция&gt;</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.finditer" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает итератор найденных фрагментов. Если внутри шаблона есть более одной груnnы, то каждый элемент сnиска будет кортежем, а не строкой.</p>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>string [, start] [, end]</em><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.match" title="Ссылка на это определение">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Параметры:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> (<em>str</em>) &#8211; искомая строка</li>
<li><strong>end</strong> (<em>int</em>) &#8211; конечная позиция</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Parma int start:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">начальная позиция</p>
</td>
</tr>
</tbody>
</table>
<p>проверяет соотвествие с началом строки, если соответсвие найдено, возвращается <code class="xref py py-class docutils literal"><span class="pre">Match</span></code> иначе None.</p>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>string [, start] [, end]</em><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.search" title="Ссылка на это определение">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Параметры:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> (<em>str</em>) &#8211; искомая строка</li>
<li><strong>end</strong> (<em>int</em>) &#8211; конечная позиция</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Parma int start:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">начальная позиция</p>
</td>
</tr>
</tbody>
</table>
<p>проверяет соотвествие с любой частью строки, если соответсвие найдено, возвращается <code class="xref py py-class docutils literal"><span class="pre">Match</span></code> иначе None</p>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.split">
<code class="descname">split</code><span class="sig-paren">(</span><em>&lt;Исходная строка&gt;</em><span class="optional">[</span>, <em>&lt;Количесвто замен&gt;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.split" title="Ссылка на это определение">¶</a></dt>
<dd><p>возвращает список, полученный путем разбиения строки по шаблону</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; р = re.compi1e(r&quot;[\s, .]+&quot;)
&gt;&gt;&gt; p.sp1it(&quot;word1, word2\nword3\r\nword4.word5&quot;)
[&#39;word1&#39;, &#39;word2&#39;, &#39;word3&#39;, &#39;word4&#39;, &#39;word5&#39;]
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.sub">
<code class="descname">sub</code><span class="sig-paren">(</span><em>&lt;Новый фрагмент или ссылка на функцию&gt;</em>, <em>&lt;Строка для замены&gt;</em><span class="optional">[</span>, <em>&lt;максимальное количесвто замен&gt;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.sub" title="Ссылка на это определение">¶</a></dt>
<dd><p>ищет все совпадения с шаблоном и заменяет их указанным значением. Внутри нового фрагмента можно использовать обратные ссылки номер, g&lt;номер&gt; и g&lt;название&gt;, соответствующие группам внутри шаблона.</p>
<p>В качестве первого параметра можно указать ссылку на функцию. В эту функцию будет передаваться объект <code class="xref py py-class docutils literal"><span class="pre">Match</span></code>, соответствующий найденному фрагменту. Результат, возвра­щаемый этой функцией, служит фрагментом для замены.</p>
<div class="highlight-python"><div class="highlight"><pre>&gt;&gt;&gt; р = re.compile(r&quot;&lt;(?P&lt;tag1&gt;[a-z]+)&gt;&lt;(?P&lt;tag2&gt;[a-z]+)&gt;&quot;)
&gt;&gt;&gt; p.sub(r&quot;&lt;\2&gt;&lt;\1&gt;&quot;, &quot;&lt;br&gt;&lt;hr&gt;&quot;) # \номер
&lt;hr&gt;&lt;br&gt;&#39;
&gt;&gt;&gt; р.sub(r&quot;&lt;\g&lt;2&gt;&gt;&lt;\g&lt;1&gt;&gt;&quot;, &quot;&lt;br&gt;&lt;hr&gt;&quot;) # \g&lt;номер&gt;
&#39;&lt;hr&gt;&lt;br&gt;&#39;
&gt;&gt;&gt; p.sub(r&quot;&lt;\g&lt;tag2&gt;&gt;&lt;\g&lt;tag1&gt;&gt;&quot;, &quot;&lt;br&gt;&lt;hr&gt;&quot;) # \g&lt;название&gt;
&#39;&lt;hr&gt;&lt;br&gt;&#39;
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="re.SRE_Pattern.subn">
<code class="descname">subn</code><span class="sig-paren">(</span><em>&lt;Новый фрагмент или ссылка на функцию&gt;</em>, <em>&lt;Строка для замены&gt;</em><span class="optional">[</span>, <em>&lt;максимальное количесвто замен&gt;</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#re.SRE_Pattern.subn" title="Ссылка на это определение">¶</a></dt>
<dd><p>аналогичен <a class="reference internal" href="#re.sub" title="re.sub"><code class="xref py py-meth docutils literal"><span class="pre">sub()</span></code></a>, но возвращает кортеж из двух элементов, измененной строки и колчества замен</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Оглавление</a></h3>
  <ul>
<li><a class="reference internal" href="#">re - регулярные выражения</a><ul>
<li><a class="reference internal" href="#id1">Формирование регулярного выряжения</a></li>
<li><a class="reference internal" href="#id2">Атрибуты модуля</a></li>
<li><a class="reference internal" href="#id3">Методы модуля</a></li>
<li><a class="reference internal" href="#id4">Классы модуля</a></li>
</ul>
</li>
</ul>

  <h4>Предыдущий раздел</h4>
  <p class="topless"><a href="random.html"
                        title="предыдущая глава">random</a></p>
  <h4>Следующий раздел</h4>
  <p class="topless"><a href="shelve.html"
                        title="следующая глава">shelve</a></p>
  <div role="note" aria-label="source link">
    <h3>Эта страница</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/modules/re.txt"
            rel="nofollow">Исходный текст</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Быстрый поиск</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Искать" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Введите слова для поиска или имя модуля, класса или функции.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Навигация</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Алфавитный указатель"
             >указатель</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Содержание модулей Python"
             >модули</a> |</li>
        <li class="right" >
          <a href="shelve.html" title="shelve"
             >вперёд</a> |</li>
        <li class="right" >
          <a href="random.html" title="random"
             >назад</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Документация python документация 2015.05.20</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Основные модули</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright ilnurgi.
      Создано с помощью <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>